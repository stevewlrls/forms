<html>
  <head>
    <title>Form Example</title>
  </head>
  <body>
    <h1>Contact Us</h1>
    <form action="contactUs" method="post">
      <p>
        <label>
          Name:
          <input type="text" name="name" required placeholder="Full name"
        /></label>
      </p>
      <p>
        <label>
          Email:
          <input type="email" name="email" required placeholder="jane@doe.com"
        /></label>
      </p>
      <p>
        <label>
          Telephone:
          <input type="tel" name="tel" placeholder="999-999-9999"
        /></label>
      </p>
      <p>
        <label>
          Message:<br />
          <textarea
            name="message"
            rows="3"
            required
            placeholder="Your message..."
          ></textarea>
        </label>
      </p>
      <p><input type="submit" /></p>
    </form>
    <script>
      function submitForm(ev) {
        ev.preventDefault()
        const form = ev.target
        const data = new FormData(form)
        fetch(form.action, {
          method: 'post',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: new URLSearchParams(data).toString()
        })
          .then((rsp) => rsp.text())
          .then((body) => {
            const pre = document.createElement('code')
            pre.style.whiteSpace = 'pre'
            pre.innerText = body
            document.body.appendChild(pre)
          })
      }
      document.querySelector('form').addEventListener('submit', submitForm)
    </script>
  </body>
</html>
